{"ast":null,"code":"import{Button,Form,Row,Col,Container,Navbar,Nav,InputGroup,ButtonGroup,FormLabel,ToggleButton,ToggleButtonGroup,NavbarText,NavDropdown}from'react-bootstrap';import{useState}from'react';import DatePicker from'react-datepicker';import{useLocalState}from'../util/useLocalStorage';import{useEffect}from'react';import{jwtDecode}from'jwt-decode';import{LogOut}from'../services/LogOut';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Employee=()=>{const[jwt,setJwt]=useLocalState(\"\",\"jwt\");if(jwt){const role=UseGetRoleFromJWT(jwt);if(role===\"USER\"){window.location.href=\"/user\";return/*#__PURE__*/_jsx(\"div\",{children:\"Loading....\"});}else if(role===\"ADMIN\"){window.location.href=\"/admin\";return/*#__PURE__*/_jsx(\"div\",{children:\"Loading....\"});}else if(role!==\"EMPLOYEE\"){window.location.href=\"/welcome\";return/*#__PURE__*/_jsx(\"div\",{children:\"Loading....\"});}}function UseGetRoleFromJWT(jwt){if(jwt){try{const decoded=jwtDecode(jwt);console.log(decoded.authorities);return decoded.roles[0].authority;}catch(error){window.location.href=\"/welcome\";return/*#__PURE__*/_jsx(\"div\",{children:\"Loading....\"});};}else{return\"\";}}return/*#__PURE__*/_jsx(Container,{className:\"justify-content-md-center\",children:/*#__PURE__*/_jsx(Navbar,{bg:\"dark\",\"data-bs-theme\":\"dark\",fixed:\"top\",children:/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Col,{xs:1,children:/*#__PURE__*/_jsx(Navbar.Brand,{href:\"#\",children:/*#__PURE__*/_jsx(\"img\",{src:\"/logofr.jpeg\",width:\"150\",height:\"75\",className:\"d-inline-block align-items-start rounded\",alt:\"logo\"})})}),/*#__PURE__*/_jsxs(Col,{xs:8,children:[/*#__PURE__*/_jsx(Navbar.Toggle,{\"aria-controls\":\"basic-navbar-nav\"}),/*#__PURE__*/_jsx(Navbar.Collapse,{id:\"basic-navbar-nav\",className:\"justify-content-center\",children:/*#__PURE__*/_jsx(Navbar.Brand,{children:\"Djelatnik\"})})]}),/*#__PURE__*/_jsx(Col,{xs:1,children:/*#__PURE__*/_jsx(Navbar.Collapse,{className:\"justify-content-end\",children:/*#__PURE__*/_jsx(Nav,{children:/*#__PURE__*/_jsxs(NavDropdown,{title:\"Opcije\",id:\"basic-nav-dropdown\",children:[/*#__PURE__*/_jsx(NavDropdown.Item,{href:\"/settings\",children:\"Postavke\"}),/*#__PURE__*/_jsx(NavDropdown.Divider,{}),/*#__PURE__*/_jsx(NavDropdown.Item,{onClick:()=>LogOut(),children:\"Odjavi se\"})]})})})})]})})});};export default Employee;","map":{"version":3,"names":["Button","Form","Row","Col","Container","Navbar","Nav","InputGroup","ButtonGroup","FormLabel","ToggleButton","ToggleButtonGroup","NavbarText","NavDropdown","useState","DatePicker","useLocalState","useEffect","jwtDecode","LogOut","jsx","_jsx","jsxs","_jsxs","Employee","jwt","setJwt","role","UseGetRoleFromJWT","window","location","href","children","decoded","console","log","authorities","roles","authority","error","className","bg","fixed","xs","Brand","src","width","height","alt","Toggle","Collapse","id","title","Item","Divider","onClick"],"sources":["C:/Users/npral/OneDrive/Radna povrÅ¡ina/Spring/web/src/Employee/index.js"],"sourcesContent":["import {\r\n    Button, Form, Row, Col, Container, Navbar,\r\n    Nav, InputGroup, ButtonGroup, FormLabel, ToggleButton, ToggleButtonGroup,\r\n    NavbarText, NavDropdown\r\n} from 'react-bootstrap';\r\nimport { useState } from 'react';\r\nimport DatePicker from 'react-datepicker';\r\nimport { useLocalState } from '../util/useLocalStorage';\r\nimport { useEffect } from 'react';\r\nimport { jwtDecode } from 'jwt-decode';\r\nimport { LogOut } from '../services/LogOut';\r\n\r\n    \r\nconst Employee = () => {\r\n       \r\n    \r\n   \r\n\r\n\r\n    const [jwt,setJwt] = useLocalState(\"\", \"jwt\");\r\n    \r\n    \r\n\r\n    if(jwt){\r\n        const role=UseGetRoleFromJWT(jwt);\r\n        if(role === \"USER\"){\r\n            window.location.href = \"/user\";\r\n            return <div>Loading....</div>\r\n         \r\n        }else if(role === \"ADMIN\"){\r\n            window.location.href = \"/admin\";\r\n            return <div>Loading....</div>\r\n        }\r\n\r\n        else if(role !== \"EMPLOYEE\"){\r\n            window.location.href = \"/welcome\";\r\n            return <div>Loading....</div>\r\n        }\r\n\r\n\r\n\r\n      }\r\n  \r\n      function UseGetRoleFromJWT(jwt){\r\n          if(jwt){\r\n              try{\r\n            const decoded = jwtDecode(jwt);\r\n            console.log(decoded.authorities);\r\n            return decoded.roles[0].authority;\r\n              } catch(error){ window.location.href = \"/welcome\";\r\n              return <div>Loading....</div>\r\n              };}\r\n          \r\n          else{\r\n            return \"\";\r\n          }\r\n      \r\n          \r\n    \r\n          }\r\n  \r\n\r\n\r\n\r\n\r\n\r\n    return (\r\n        <Container className=\"justify-content-md-center\">\r\n            <Navbar bg=\"dark\" data-bs-theme=\"dark\" fixed=\"top\">\r\n                <Container>\r\n                    <Col xs={1}>\r\n                        <Navbar.Brand href=\"#\">\r\n                            <img\r\n                                src=\"/logofr.jpeg\"\r\n                                width=\"150\"\r\n                                height=\"75\"\r\n\r\n                                className=\"d-inline-block align-items-start rounded\"\r\n                                alt=\"logo\"\r\n                            />\r\n                        </Navbar.Brand>\r\n                    </Col>\r\n                    <Col xs={8}>\r\n                        <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n                        <Navbar.Collapse id=\"basic-navbar-nav\" className=\"justify-content-center\">\r\n                            <Navbar.Brand>Djelatnik</Navbar.Brand>\r\n                        </Navbar.Collapse>\r\n                    </Col>\r\n                    <Col xs={1}>\r\n                        <Navbar.Collapse className=\"justify-content-end\">\r\n                            <Nav>\r\n                                <NavDropdown title=\"Opcije\" id=\"basic-nav-dropdown\">\r\n                                    <NavDropdown.Item href=\"/settings\">Postavke</NavDropdown.Item>\r\n                                    <NavDropdown.Divider />\r\n                                    <NavDropdown.Item onClick={() => LogOut()}>Odjavi se</NavDropdown.Item>\r\n                                </NavDropdown>\r\n                            </Nav>\r\n                        </Navbar.Collapse>\r\n                    </Col>\r\n                </Container>\r\n            </Navbar>\r\n        </Container>\r\n    );\r\n}\r\nexport default Employee;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}