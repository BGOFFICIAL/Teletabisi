{"ast":null,"code":"import{useEffect,useState}from'react';import'./App.css';import{useLocalState}from'./util/useLocalStorage';import{Route,Routes,Navigate}from'react-router-dom';import User from'./User';import Welcome from'./Welcome';import PrivateRoutes from'./PrivateRoutes';import Settings from'./Settings';import{jwtDecode}from\"jwt-decode\";import Admin from'./Adminic';import Register from'./Register';import'bootstrap/dist/css/bootstrap.min.css';import'react-datepicker/dist/react-datepicker.css';import Employee from'./Employee';import Login from'./Loginic/Login';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[jwt,setJwt]=useLocalState(\"\");const[roles,setRoles]=useLocalState(UseGetRoleFromJWT);function UseGetRoleFromJWT(){if(jwt){const decoded=jwtDecode(jwt);console.log(decoded.authorities);console.log(\"Ovo vracas:\"+decoded.roles[0].authority);}if(jwt){const decoded=jwtDecode(jwt);console.log(decoded.authorities);return decoded.roles[0].authority;}else{return\"\";}}/*useEffect(() => {\n    console.log(\"Hello World\");\n    console.log(\"jwt is \" +jwt);\n    if(!jwt){\n      const reqBody= {\n      \"username\": \"example\",\n      \"password\": \"1234\",\n      };\n\n  \n \n  \n      fetch(\"http://localhost:8080/api/v1/auth/authenticate\", {\n        \"headers\": {\n        \"Content-Type\": \"application/json\",\n      },\n        \"method\": \"POST\",\n        body: JSON.stringify(reqBody),\n        })\n          .then(response => response.json())\n          .then(data => {\n         setJwt(data.token);\n        });\n  }}, [jwt]);\n*/return/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/welcome\"})}),/*#__PURE__*/_jsxs(Route,{element:/*#__PURE__*/_jsx(PrivateRoutes,{}),children:[/*#__PURE__*/_jsx(Route,{path:\"/user\",element:/*#__PURE__*/_jsx(User,{})}),/*#__PURE__*/_jsx(Route,{path:\"/settings\",element:/*#__PURE__*/_jsx(Settings,{})}),/*#__PURE__*/_jsx(Route,{path:\"/admin\",element:/*#__PURE__*/_jsx(Admin,{})}),/*#__PURE__*/_jsx(Route,{path:\"/employee\",element:/*#__PURE__*/_jsx(Employee,{})})]}),/*#__PURE__*/_jsx(Route,{path:\"/welcome\",element:/*#__PURE__*/_jsx(Welcome,{})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(Register,{})})]});}export default App;","map":{"version":3,"names":["useEffect","useState","useLocalState","Route","Routes","Navigate","User","Welcome","PrivateRoutes","Settings","jwtDecode","Admin","Register","Employee","Login","jsx","_jsx","jsxs","_jsxs","App","jwt","setJwt","roles","setRoles","UseGetRoleFromJWT","decoded","console","log","authorities","authority","children","path","element","to"],"sources":["C:/Users/npral/OneDrive/Radna povrÅ¡ina/Spring/web/src/App.js"],"sourcesContent":["import { useEffect,useState } from 'react';\nimport './App.css';\nimport { useLocalState } from './util/useLocalStorage';\nimport { Route, Routes,Navigate } from 'react-router-dom';\nimport User from './User';\nimport Welcome from './Welcome';\nimport PrivateRoutes from './PrivateRoutes';\nimport Settings from './Settings';\nimport {jwtDecode} from \"jwt-decode\";\nimport Admin from './Adminic';\nimport Register from './Register';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'react-datepicker/dist/react-datepicker.css';\nimport Employee from './Employee';\nimport Login from './Loginic/Login';\n\n\n\n\n\n\n\nfunction App() {\n\n  const [jwt,setJwt] = useLocalState(\"\");\n  const [roles,setRoles] = useLocalState(UseGetRoleFromJWT);\n\n\n  function UseGetRoleFromJWT(){\n    \n\n    if(jwt){\n      const decoded = jwtDecode(jwt);\n      console.log(decoded.authorities);\n      console.log(\"Ovo vracas:\"+decoded.roles[0].authority);\n    }\n    \n    if(jwt){\n      const decoded = jwtDecode(jwt);\n      console.log(decoded.authorities);\n      \n      return decoded.roles[0].authority;\n    }\n    else{\n      return \"\";\n    }\n}\n \n\n\n\n  \n  \n\n\n \n\n  /*useEffect(() => {\n    console.log(\"Hello World\");\n    console.log(\"jwt is \" +jwt);\n    if(!jwt){\n      const reqBody= {\n      \"username\": \"example\",\n      \"password\": \"1234\",\n      };\n\n  \n \n  \n      fetch(\"http://localhost:8080/api/v1/auth/authenticate\", {\n        \"headers\": {\n        \"Content-Type\": \"application/json\",\n      },\n        \"method\": \"POST\",\n        body: JSON.stringify(reqBody),\n        })\n          .then(response => response.json())\n          .then(data => {\n         setJwt(data.token);\n        });\n  }}, [jwt]);\n*/\n\n    \n\n  return (\n        \n          <Routes>\n             <Route path=\"*\" element={<Navigate to=\"/welcome\"  />} />\n             <Route  element={\n             <PrivateRoutes/>} >\n                <Route path=\"/user\" element={<User/>} />\n                <Route path=\"/settings\" element={<Settings/>} />    \n                <Route path=\"/admin\"  element={<Admin/>} />\n                <Route path=\"/employee\"  element={<Employee/>}/>\n             </Route>\n             <Route path=\"/welcome\"  element={<Welcome/>} />\n             <Route path=\"/login\"  element={<Login/>} />\n             <Route path=\"/register\"  element={<Register/>} />\n        \n\n\n          </Routes>\n     \n  );\n\n\n} \n\n    export default App;\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}